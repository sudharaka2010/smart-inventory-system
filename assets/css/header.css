/* RB Stores — Responsive Header */
:root{
  --header-h: clamp(56px, 9vh, 68px);
  --bg: #0f172a; --bg-2:#111827; --text:#e5e7eb; --muted:#9ca3af;
  --brand:#38bdf8; --danger:#ef4444; --ring: rgba(56,189,248,.45);
  --shadow: 0 8px 24px rgba(0,0,0,.18);
}

*{box-sizing:border-box}
.header a{text-decoration:none} .header img{display:block}

/* Safe-area support for notches */
.header{position:sticky;top:0;z-index:1000;
  padding-top: env(safe-area-inset-top);
  background: linear-gradient(180deg,var(--bg),var(--bg-2));
  color:var(--text); box-shadow:var(--shadow)
}
.header__container{
  height: var(--header-h);
  max-width: 1200px; margin: 0 auto;
  padding: 0 max(16px, env(safe-area-inset-left)) 0 max(16px, env(safe-area-inset-right));
  display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:12px;
}

/* Skip to content */
.skip-link{position:absolute; top:-40px; left:12px; background:#111827; color:#fff;
  padding:8px 12px; border-radius:8px; transition:top .2s ease; z-index:10000}
.skip-link:focus{top:12px}

/* Logo */
.header__logo{display:inline-flex; align-items:center; gap:10px; cursor:pointer}
.header__logo-img{width:clamp(28px,4.3vh,40px); height:clamp(28px,4.3vh,40px); object-fit:contain}
.header__logo-text{font:700 clamp(14px,2.2vh,18px)/1 'Poppins',system-ui,sans-serif; color:#fff}

/* Toggle */
.header__toggle{display:inline-flex; align-items:center; justify-content:center;
  width:44px; height:44px; border:1px solid rgba(255,255,255,.08);
  background:transparent; color:var(--text); border-radius:12px; cursor:pointer;
  transition:transform .12s ease, background .12s ease, border-color .12s ease; order:-1
}
.header__toggle:hover{background:rgba(255,255,255,.06); transform:translateY(-1px)}
.header__toggle:focus-visible{outline:2px solid var(--ring); outline-offset:2px}

/* Nav (desktop default) */
.header__nav{display:flex; gap:10px; align-items:center; justify-content:flex-end; min-width:0}
.header__link{
  display:inline-flex; align-items:center; gap:8px;
  padding:10px 14px; border-radius:12px;
  font:500 clamp(12px,1.8vh,14px)/1 'Poppins',system-ui,sans-serif;
  color:var(--text); border:1px solid transparent;
  transition:background .12s ease, color .12s ease, border-color .12s ease, transform .12s ease;
  white-space:nowrap; max-width:100%; overflow:hidden; text-overflow:ellipsis;
}
.header__link:hover{background:rgba(255,255,255,.06); border-color:rgba(255,255,255,.08); transform:translateY(-1px)}
.header__link.is-active{background:rgba(56,189,248,.12); color:#e6f9ff; border-color:rgba(56,189,248,.35)}
.header__link--logout{color:#ffecec; border-color:rgba(239,68,68,.25)}
.header__link--logout:hover{background:rgba(239,68,68,.12); border-color:rgba(239,68,68,.5)}

/* Mobile drawer */
@media (max-width: 991px){
  .header__nav{
    position: fixed; left:0; right:0; top: var(--header-h);
    height: calc(100dvh - var(--header-h));
    background: rgba(15,23,42,.98);
    backdrop-filter: saturate(140%) blur(6px);
    display:flex; flex-direction:column; align-items:stretch;
    padding: 16px max(16px, env(safe-area-inset-right)) 24px max(16px, env(safe-area-inset-left));
    gap:8px; opacity:0; pointer-events:none; transition: opacity .18s ease;
  }
  .header__nav.header__nav--active{opacity:1; pointer-events:auto}
  .header__link{padding:14px 16px; font-size:clamp(14px,2.2vh,16px); border:1px solid rgba(255,255,255,.06); background:rgba(255,255,255,.02)}
}

/* Desktop */
@media (min-width: 992px){
  .header__toggle{display:none}
  .header__container{gap:16px}
}

/* Ultra-small devices (≤360px) */
@media (max-width: 360px){
  .header__container{gap:8px}
  .header__logo-text{display:none} /* keep just the mark if space is tight */
}

/* Reduce motion preference */
@media (prefers-reduced-motion: reduce){
  *{transition:none !important; scroll-behavior:auto !important}
}

/* Page wrapper (optional) */
.page{min-height: calc(100dvh - var(--header-h)); background:#0b1220; padding:16px}

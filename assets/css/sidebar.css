/* ===== RB Sidebar (scoped; Bootstrap 5 friendly; uses Bootstrap Icons) ===== */

[data-rb-scope="sidebar"] {
  --sb-bg: #0f172a;         /* slate-900 */
  --sb-border: #1f2937;     /* gray-800 */
  --sb-text: #e5e7eb;       /* gray-200 */
  --sb-text-dim: #cbd5e1;   /* slate-300 */
  --sb-accent: #22c55e;     /* emerald-500 */
  --sb-hover: rgba(255,255,255,.06);
  --sb-active: rgba(34,197,94,.18);
  --sb-focus: #93c5fd;
  --sb-width: 280px;
  --sb-topbar: 56px;
  color: var(--sb-text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
}

/* Mobile top bar */
[data-rb-scope="sidebar"] .rb-sb-topbar{
  display:flex; align-items:center; gap:.5rem;
  height: var(--sb-topbar);
  padding: 0 .75rem;
  background: var(--sb-bg);
  border-bottom: 1px solid var(--sb-border);
  position: sticky; top: 0; z-index: 1046;
  color: var(--sb-text);
}
[data-rb-scope="sidebar"] .rb-sb-topbar-btn{
  color: inherit; text-decoration: none;
}

/* Sidebar container */
[data-rb-scope="sidebar"] .rb-sb{
  background: var(--sb-bg);
  color: var(--sb-text);
  border-right: 1px solid var(--sb-border);
}

/* Make offcanvas behave like a fixed sidebar on â‰¥ xl */
@media (min-width: 1200px){
  [data-rb-scope="sidebar"] .rb-sb.offcanvas{
    position: sticky;
    top: 0;
    transform: none !important;
    visibility: visible !important;
    transition: none;
    box-shadow: none;
    height: 100vh;
    width: var(--sb-width);
  }
}

/* Brand */
[data-rb-scope="sidebar"] .rb-sb-brand{
  border-bottom: 1px solid var(--sb-border);
}
[data-rb-scope="sidebar"] .rb-sb-brand-text{
  font-weight: 600; color: #fff;
}

/* Accordion look (scoped so other accordions are safe) */
[data-rb-scope="sidebar"] .rb-sb-acc-item{
  border-bottom: 1px solid var(--sb-border);
}
[data-rb-scope="sidebar"] .rb-sb-acc-btn{
  background: transparent;
  color: var(--sb-text);
  font-weight: 500;
  padding: .9rem 1rem;
}
[data-rb-scope="sidebar"] .accordion-button:not(.collapsed){
  background: var(--sb-hover);
  color: #fff;
  box-shadow: inset 0 -1px 0 0 var(--sb-border);
}
/* Hide default chevron to keep left icons clean */
[data-rb-scope="sidebar"] .accordion-button::after{ display:none; }

/* Menu list + links */
[data-rb-scope="sidebar"] .rb-sb-menu li{
  border-bottom: 1px dashed rgba(255,255,255,0.06);
}
[data-rb-scope="sidebar"] .rb-sb-link{
  display:flex; align-items:center; gap:.5rem;
  padding:.65rem 1rem;
  color: var(--sb-text-dim);
  text-decoration:none;
  border-left: 3px solid transparent;
  transition: background .15s ease, color .15s ease, padding .15s ease, border-color .15s ease;
}
[data-rb-scope="sidebar"] .rb-sb-link:hover{
  background: var(--sb-hover); color:#fff;
}
[data-rb-scope="sidebar"] .rb-sb-link.active{
  color:#fff; background: var(--sb-active); border-left-color: var(--sb-accent);
  padding-left: calc(1rem - 3px + .25rem);
}

/* Footer */
[data-rb-scope="sidebar"] .rb-sb-footer{
  border-top: 1px solid var(--sb-border);
}

/* Scrollbar only inside the sidebar */
[data-rb-scope="sidebar"] .offcanvas-body{ overflow-y:auto; }
[data-rb-scope="sidebar"] .offcanvas-body::-webkit-scrollbar{ width: 10px; }
[data-rb-scope="sidebar"] .offcanvas-body::-webkit-scrollbar-thumb{ background: rgba(255,255,255,.2); border-radius: 6px; }

/* Focus visible (keyboard) */
[data-rb-scope="sidebar"] a:focus-visible,
[data-rb-scope="sidebar"] button:focus-visible{
  outline: 2px solid var(--sb-focus);
  outline-offset: 2px;
  border-radius: 6px;
}

/* Light scheme auto */
@media (prefers-color-scheme: light){
  [data-rb-scope="sidebar"]{
    --sb-bg: #ffffff;
    --sb-border: #e5e7eb;
    --sb-text: #111827;
    --sb-text-dim: #374151;
    --sb-hover: rgba(15,23,42,.05);
    --sb-active: rgba(16,185,129,.12);
  }
}

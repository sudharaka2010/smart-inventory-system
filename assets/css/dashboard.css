/* File: /assets/css/dashboard.css */
/* ================= RB STORES – BRAND DARK THEME (Bootstrap-friendly) ================= */

/* ---------- Tokens ---------- */
:root{
  --container:1280px;

  /* Radii */
  --radius:16px;
  --radius-sm:12px;

  /* Brand gradient */
  --grad-1:#3845f6;
  --grad-2:#4f7df3;
  --grad-3:#7aa4ff;

  /* Surfaces (dark, glassy) */
  --bg-grad-from:#2a2f7a;
  --bg-grad-to:#3b82f6;

  --surface:#0d1220;
  --surface-2:#11182b;
  --surface-3:#0a0f1c;
  --glass:rgba(13,18,32,.75);

  /* Text */
  --text:#e6efff;
  --muted:#9fb0cc;

  /* Lines / shadows */
  --line:rgba(148,163,184,.18);
  --shadow-lg:0 24px 60px rgba(0,0,0,.35), 0 8px 24px rgba(0,0,0,.25);
  --shadow-md:0 16px 36px rgba(0,0,0,.30), 0 4px 16px rgba(0,0,0,.20);
  --shadow-sm:0 10px 18px rgba(0,0,0,.22), 0 2px 8px rgba(0,0,0,.16);

  /* Accents */
  --accent:#7aa4ff;
  --accent-2:#a7c0ff;

  /* Status */
  --ok:#46d39a;
  --warn:#f5c547;
  --danger:#ff6b8a;

  --footer-h:56px;

  /* Motion */
  --e:.18s cubic-bezier(.2,.7,.2,1);
}
@media (prefers-reduced-motion:reduce){ :root{ --e:0s; } }

/* ---------- Base ---------- */
html,body{
  min-height:100%;
  background:
    radial-gradient(1200px 800px at 20% -10%, var(--bg-grad-to) -20%, transparent 60%),
    linear-gradient(165deg, var(--bg-grad-from) 0%, #3146c7 45%, #2f62f0 85%);
  color: var(--text);
}
@media (prefers-color-scheme: light) {
  html,body{ color:#0b1220; }
}
body{ padding-bottom: var(--footer-h); }
.container, .container-fluid, .container-xxl{ max-width: var(--container); }

a{ color: var(--accent); text-decoration: none; }
a:hover{ color: var(--accent-2); text-decoration: underline; }

.bg-body-tertiary{ background: transparent !important; }
.text-secondary{ color: var(--muted) !important; }
.text-primary{ color: var(--accent) !important; }

/* Ensure Bootstrap forms and selects match dark theme */
.form-control, .form-select {
  background-color: rgba(255,255,255,.06);
  border-color: rgba(255,255,255,.12);
  color: var(--text);
}
.form-control:focus, .form-select:focus {
  border-color: #9db7ff;
  box-shadow: 0 0 0 .25rem rgba(125,160,255,.25);
}
.form-control::placeholder { color:#c6d6ff; opacity:.7; }

/* ---------- Hero (full-width) ---------- */
.hero-gradient{
  position: relative;
  width: 100%;
  background: linear-gradient(135deg, var(--grad-1) 0%, var(--grad-2) 50%, var(--grad-3) 100%);
  color:#fff;
  box-shadow: 0 12px 36px rgba(64,98,247,.35);
  border-radius: 0;
  margin: 0 0 1rem 0;
  padding: clamp(12px, 2vw, 18px) clamp(12px, 2.5vw, 24px);
}
.hero-gradient .hero-inner{
  max-width: var(--container);
  margin: 0 auto;
  display:flex; align-items:end; gap:12px; flex-wrap:wrap;
}
.hero-gradient h1,.hero-gradient h2,.hero-gradient .lead{ margin:0; }
.hero-gradient .lead{ opacity:.95; }

/* ---------- Main wrapper ---------- */
.main-content{
  margin-top: 16px;
  padding: 20px clamp(12px,2.5vw,24px) 28px;
}

/* ---------- Quick actions ---------- */
.btn-action{
  border-radius:999px;
  padding:.55rem 1rem;
  border:1px solid rgba(255,255,255,.08);
  background: linear-gradient(180deg, rgba(122,164,255,.22), rgba(122,164,255,.06));
  color:#eaf2ff !important;
  box-shadow: var(--shadow-sm);
  transition: transform var(--e), box-shadow var(--e), background var(--e);
  display:inline-flex; align-items:center;
}
.btn-action:hover{
  transform: translateY(-1px);
  background: linear-gradient(180deg, rgba(167,192,255,.32), rgba(122,164,255,.12));
  box-shadow: var(--shadow-md);
}
.btn-outline-primary.btn-action,
.btn-outline-secondary.btn-action,
.btn-outline-dark.btn-action{
  color:#eaf2ff !important; border-color: rgba(255,255,255,.14);
}

/* On small screens, make quick actions full-width rows */
@media (max-width: 576px){
  .btn-action{ width:100%; justify-content:center; }
}

/* ---------- Alerts ---------- */
.alert{
  border-radius: 14px;
  background: linear-gradient(180deg, rgba(16,23,38,.85), rgba(10,15,28,.92));
  color: var(--text);
  border:1px solid rgba(255,255,255,.06);
  box-shadow: var(--shadow-sm);
}
.alert-warning{ border-left:3px solid var(--warn); }
.alert-danger{  border-left:3px solid var(--danger); }
.alert .btn{ border-radius:999px; }

/* ---------- Cards ---------- */
.card{
  background: linear-gradient(180deg, rgba(16,23,38,.85), rgba(10,15,28,.92));
  backdrop-filter: blur(6px);
  border: 1px solid rgba(255,255,255,.06);
  border-radius: var(--radius);
  box-shadow: var(--shadow-lg);
  transition: transform var(--e), box-shadow var(--e), border-color var(--e);
  color: var(--text);
}
.card:hover{ transform: translateY(-2px); box-shadow: 0 28px 64px rgba(0,0,0,.42), 0 8px 24px rgba(0,0,0,.28); }

.card-header{
  background: linear-gradient(135deg, rgba(79,125,243,.25), rgba(58,98,240,.18)) !important;
  border-bottom: 1px solid rgba(255,255,255,.06) !important;
  color:#e8eeff;
  border-top-left-radius: var(--radius);
  border-top-right-radius: var(--radius);
}

/* KPI tiles */
.kpi-icon{
  font-size: 1.4rem;
  width:48px; height:48px; display:grid; place-items:center;
  border-radius:12px;
  background: radial-gradient(140% 140% at 30% 10%, #91b1ff 0%, #547cf6 45%, #3244f6 100%);
  border:1px solid rgba(255,255,255,.10);
}
.card .kpi-accent{
  position:absolute; inset:auto 10px 10px auto; height:6px; width:48px;
  background: linear-gradient(90deg, #91b1ff, #547cf6, #3244f6);
  border-radius:999px; opacity:.55; filter: drop-shadow(0 0 12px rgba(120,160,255,.35));
}
.card .fs-4.fw-semibold{ font-size:1.45rem !important; color:#f2f7ff; }

/* ---------- Badges ---------- */
.badge{
  font-weight:700; letter-spacing:.2px; padding:.45rem .65rem; border-radius:999px;
  border:1px solid rgba(255,255,255,.08);
}
.text-bg-success{  background: rgba(70,211,154,.18) !important;  color: var(--ok) !important; }
.text-bg-warning{  background: rgba(245,197,71,.18) !important;  color: var(--warn) !important; }
.text-bg-danger{   background: rgba(255,107,138,.18) !important;  color: var(--danger) !important; }
.text-bg-secondary{background: rgba(148,163,184,.18) !important; color:#dbe7ff !important; }

/* ---------- Tables (dark) ---------- */
.table-responsive{
  border: 1px solid rgba(255,255,255,.06);
  border-radius: var(--radius);
  background: linear-gradient(180deg, rgba(16,23,38,.75), rgba(10,15,28,.9));
  box-shadow: var(--shadow-md);
  overflow:auto; /* allow horizontal scroll on small devices */
}
.table{
  margin:0; color: var(--text);
  --bs-table-bg: transparent;
  --bs-table-striped-bg: rgba(122,164,255,.06);
  --bs-table-hover-bg: rgba(122,164,255,.12);
  --bs-table-border-color: rgba(255,255,255,.06);
}
.table thead th{
  font-size:12px; text-transform:uppercase; letter-spacing:.4px;
  color:#eaf2ff;
  background: linear-gradient(135deg, rgba(145,177,255,.15), rgba(83,121,246,.16)) !important;
  position: sticky; top: 0; z-index: 1;
  border-bottom: 1px solid rgba(255,255,255,.08) !important;
}
.table thead th:first-child { border-top-left-radius: 12px; }
.table thead th:last-child  { border-top-right-radius: 12px; }

.table td, .table th{
  vertical-align: middle;
  border-color: rgba(255,255,255,.06) !important;
}
.table tbody tr{ background: transparent; transition: background var(--e); }
.table tbody tr:nth-child(odd){ background: rgba(122,164,255,.04); }
.table tbody tr:hover{ background: var(--bs-table-hover-bg); }
.table .text-end{ text-align:right !important; }
.table.table-sm td, .table.table-sm th{ padding:.55rem .75rem; }

/* Soft row separators */
.table--soft tbody tr{
  box-shadow: inset 0 1px 0 rgba(255,255,255,.04), inset 0 -1px 0 rgba(255,255,255,.04);
}

/* Search inputs in headers */
.card-header .form-control.form-control-sm,
.card-header .form-select.form-select-sm{
  box-shadow:none;
  border-radius: 999px;
  background: rgba(255,255,255,.06);
  color:#eaf2ff;
  border:1px solid rgba(255,255,255,.10);
}
.card-header .form-control::placeholder{ color:#c6d6ff; opacity:.7; }

/* ---------- Code + focus ---------- */
code{
  background: rgba(122,164,255,.15);
  padding:.15rem .35rem; border-radius:.35rem; color:#dfe8ff;
  border:1px solid rgba(255,255,255,.08);
}
:focus-visible{ outline:2px solid #a7c0ff; outline-offset:2px; border-radius:8px; }

/* ---------- Scrollbars ---------- */
.table-responsive::-webkit-scrollbar{ height:10px; width:10px; }
.table-responsive::-webkit-scrollbar-thumb{ background: rgba(180,195,224,.35); border-radius:8px; }
.table-responsive::-webkit-scrollbar-track{ background: rgba(255,255,255,.08); border-radius:8px; }

/* ---------- Footer ---------- */
footer, .site-footer, .app-footer{
  left:0; right:0; bottom:0; height: var(--footer-h); z-index:50; color:#d7e4ff;
}

/* ---------- Tiny-screen stacked tables (accessibility + mobile UX) ---------- */
/* Add .table--stack to any table you want stacked on phones */
@media (max-width: 700px){
  .table--stack thead{ display:none; }
  .table--stack tbody tr{
    display:block; margin:10px; border:1px solid rgba(255,255,255,.08);
    border-radius: var(--radius); overflow:hidden; box-shadow: var(--shadow-sm);
    background: linear-gradient(180deg, rgba(16,23,38,.85), rgba(10,15,28,.92)) !important;
  }
  .table--stack tbody td{
    display:grid; grid-template-columns: 130px 1fr; gap:10px; padding:.75rem .9rem;
  }
  .table--stack tbody td::before{
    color: var(--muted); text-transform: uppercase; letter-spacing:.3px; font-size:11px; font-weight:700;
  }
  /* Labels for specific tables */
  .table--stack.recent-orders tbody td:nth-child(1)::before{ content:"Order #"; }
  .table--stack.recent-orders tbody td:nth-child(2)::before{ content:"Invoice"; }
  .table--stack.recent-orders tbody td:nth-child(3)::before{ content:"Customer"; }
  .table--stack.recent-orders tbody td:nth-child(4)::before{ content:"Date"; }
  .table--stack.recent-orders tbody td:nth-child(5)::before{ content:"Total (Rs)"; }
  .table--stack.recent-orders tbody td:nth-child(6)::before{ content:"Status"; }

  .table--stack.top-items tbody td:nth-child(1)::before{ content:"Item"; }
  .table--stack.top-items tbody td:nth-child(2)::before{ content:"Qty Sold"; }

  .table--stack.low-stock tbody td:nth-child(1)::before{ content:"Item"; }
  .table--stack.low-stock tbody td:nth-child(2)::before{ content:"Qty"; }
  .table--stack.low-stock tbody td:nth-child(3)::before{ content:"Invoice"; }
}

/* ---------- Layout niceties across breakpoints ---------- */
@media (max-width: 992px){ /* < lg */
  .hero-gradient .hero-inner{ align-items:center; }
  .card .kpi-icon{ width:42px; height:42px; font-size:1.2rem; }
  .card .fs-4.fw-semibold{ font-size:1.3rem !important; }
}
@media (max-width: 576px){ /* < sm */
  .main-content{ padding: 16px 12px 24px; }
  .card-header .d-flex{ gap:8px !important; }
  .card-header .form-control.form-control-sm,
  .card-header .form-select.form-select-sm{
    min-width: 0; width:100%;
  }
}

/* ---------- Print ---------- */
@media print{
  html,body{ background:#fff; color:#111; }
  .card, .table-responsive{ box-shadow:none; border:1px solid #ddd; }
  .card-header{ background:#f8f9fa !important; color:#111; }
  .hero-gradient{ background:#fff !important; color:#111; box-shadow:none; }
  a, .text-primary{ color:#0d6efd !important; }
}

/* ---- Tweaks / overrides (contrast, spacing, sticky head shadow) ---- */

/* Better outline button contrast on glassy surfaces */
.btn-outline-primary.btn-action,
.btn-outline-secondary.btn-action,
.btn-outline-dark.btn-action{
  border-color: rgba(255,255,255,.28);
}

/* Card header control cluster spacing on wrap */
.card-header .d-flex { row-gap: 8px; }

/* “View all” links inside headers */
.card-header .btn.btn-outline-light {
  --bs-btn-color: #eaf2ff;
  --bs-btn-border-color: rgba(255,255,255,.28);
  --bs-btn-hover-bg: rgba(255,255,255,.1);
  --bs-btn-hover-border-color: rgba(255,255,255,.4);
  border-radius: 999px;
  padding: .25rem .6rem;
}

/* Make sticky thead more visible when scrolling */
.table thead th {
  box-shadow: 0 2px 0 rgba(255,255,255,.06);
}

/* Improve focus ring on glass backgrounds */
:focus-visible{
  outline:2px solid #bcd0ff; outline-offset:2px; border-radius:8px;
}

/* Tweak stacked rows label width on very small screens */
@media (max-width:420px){
  .table--stack tbody td{ grid-template-columns: 104px 1fr; }
}

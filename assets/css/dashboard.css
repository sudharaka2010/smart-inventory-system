/* RB Stores — Dashboard theme (scoped to <main> only)
   ✅ Does NOT style header.php, sidebar.php, or footer.php
   How: every rule is prefixed with "main" so header/sidebar/footer are untouched.
*/

/* ---------- Scope & theme tokens ---------- */
main {
  /* Theme tokens (local to main) */
  --rb-primary-500:#6375ff;
  --rb-primary-600:#5a63ff;
  --rb-primary-700:#4a56ff;
  --rb-accent-1:#6d28d9;
  --rb-accent-2:#3b82f6;
  --rb-card:#0f172a;
  --rb-card-soft:#111827;
  --rb-text:#e5e7eb;
  --rb-text-dim:#84bdeb;
  --rb-border:#94d0ec;
  --rb-table-stripe: rgba(255,255,255,.02);
  --rb-shadow: 0 12px 30px rgba(0,0,0,.35), 0 0 0 1px rgba(255,255,255,.03) inset;

  color: var(--rb-text);
  position: relative;
  z-index: 0; /* ensures background sits behind content */
}

/* Background gradient only behind <main> content */
main::before{
  content:"";
  position: absolute;
  inset: 0;
  z-index: -1;
  background:
    radial-gradient(1200px 600px at 60% -10%, rgba(255,255,255,.06) 0%, rgba(255,255,255,0) 60%),
    linear-gradient(160deg, #1e3a8a 0%, #3847db 35%, #3b82f6 70%, #6d28d9 100%);
  background-attachment: fixed;
  pointer-events: none;
  display: block;
  border-radius: 0; /* keep squared; adjust if main is boxed */
}

/* ---------- Cards ---------- */
main .card {
  background: linear-gradient(180deg, var(--rb-card) 0%, var(--rb-card-soft) 100%);
  border: 1px solid var(--rb-border);
  border-radius: 16px;
  box-shadow: var(--rb-shadow);
  color: var(--rb-text);
}
main .card-header,
main .card-footer{
  background: transparent;
  border-color: var(--rb-border);
  color: var(--rb-text-dim);
}

/* ---------- KPI icon tint ---------- */
main .kpi .icon { color: var(--rb-primary-600); }

/* ---------- Forms (dark) ---------- */
main .form-control,
main .form-select {
  background-color: #0b1220;
  border: 1px solid var(--rb-border);
  color: var(--rb-text);
}
main .form-control::placeholder { color: #6b7280; }
main .form-control:focus,
main .form-select:focus {
  background-color: #0b1220;
  border-color: #6a76ff; /* derived from primary */
  box-shadow: 0 0 0 .2rem rgba(90,99,255,.25);
  color: var(--rb-text);
}

/* ---------- Tables ---------- */
main .table { color: var(--rb-text); }
main .table thead {
  color: var(--rb-text);
  background: rgba(255,255,255,.04);
}
main .table-striped > tbody > tr:nth-of-type(odd) > * {
  background: var(--rb-table-stripe);
}
main .table-soft tbody tr:hover {
  background: rgba(255,255,255,.06) !important;
}
main .table > :not(caption) > * > * {
  border-bottom-color: var(--rb-border);
}

/* ---------- Badges ---------- */
main .badge.text-bg-primary { background: #5b6bff; }
main .badge.text-bg-success { background: #16a34a; }
main .badge.text-bg-warning { background: #f59e0b; color:#0f172a; }
main .badge.text-bg-danger  { background: #dc2626; }
main .badge.text-bg-secondary{ background: #64748b; }

/* ---------- Alerts ---------- */
main .alert{
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border: 1px solid var(--rb-border);
  color: var(--rb-text);
}

/* ---------- Buttons ---------- */
main .btn{ border-radius: 12px; }
main .btn-primary{
  border: 0;
  color: #fff;
  background-image: linear-gradient(90deg, var(--rb-accent-1), var(--rb-accent-2));
  box-shadow: 0 8px 20px rgba(59,130,246,.35);
}
main .btn-primary:hover{
  transform: translateY(-1px);
  background-image: linear-gradient(90deg, #7c3aed, #3b82f6);
}
main .btn-primary:active{
  transform: translateY(0);
  background-image: linear-gradient(90deg, #6d28d9, #325fdc);
}
main .btn-outline-primary{
  color: #c7d2fe;
  border-color: #818cf8;
}
main .btn-outline-primary:hover{
  color:#fff;
  background-image: linear-gradient(90deg, #6366f1, #3b82f6);
  border-color: transparent;
}

/* ---------- Links (only inside main) ---------- */
main a,
main .link-primary { color:#c7d2fe; }
main a:hover { color:#ffffff; }

/* ---------- “Hero” bars inside main ---------- */
main .hero{
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)) !important;
  border: 1px solid var(--rb-border);
  color: var(--rb-text);
}

/* ---------- Tiny utilities (scoped) ---------- */
main .shadow-soft { box-shadow: var(--rb-shadow); }
main .text-dim { color: var(--rb-text-dim) !important; }

/* ---------- Explicit NON-targets ----------
   No rules for header, .navbar, .sidebar, .offcanvas, footer
   so includes remain visually unchanged.
*/
/* ===== RB Stores — Fixed-rail layout glue for dashboard ===== */
:root{
  /* mirror the sidebar vars globally so main can read them */
  --rb-sb-w: 280px;     /* must match sidebar.css' --rb-sb-w */
  --rb-header-h: 68px;  /* must match sidebar.css' --rb-header-h (0 if header not fixed) */
  --rb-footer-h: 56px;  /* optional; set to 0 if footer not fixed */
}

@media (min-width:1200px){
  /* Push main so it doesn't sit under the fixed sidebar */
  main{
    margin-left: var(--rb-sb-w);
    /* If your header is fixed and the sidebar starts below it, give main the same top spacing */
    padding-top: 0; /* keep your existing spacing; set to calc(var(--rb-header-h)) if needed */
    min-height: calc(100dvh - var(--rb-header-h) - var(--rb-footer-h));
  }
}

/* On md/lg (where the sidebar is offcanvas), let main span full width */
@media (max-width:1199.98px){
  main{ margin-left: 0; }
}

/* Optional: make the overall row fill the viewport nicely */
.container-fluid > .row{
  min-height: calc(100dvh - var(--rb-header-h) - var(--rb-footer-h));
}

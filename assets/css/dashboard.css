/* ==========================================================================
   RB Stores Dashboard — Bootstrap 5.3 enhancement
   File: /assets/css/dashboard.css
   Goals:
   - High quality UI/UX, fully responsive
   - Skinable: "light" (default) and "brand" (login gradient match)
   - Works with Bootstrap variables so components recolor correctly
   ========================================================================== */

/* ---------- Base variables (light default) ---------- */
:root {
  /* Text & surfaces */
  --rb-body-bg: #ffffff;
  --rb-body-color: #1f2937; /* slate-800 */

  /* Brand (light default uses Bootstrap defaults) */
  --rb-primary: var(--bs-primary);
  --rb-success: var(--bs-success);
  --rb-warning: var(--bs-warning);
  --rb-danger:  var(--bs-danger);
  --rb-info:    var(--bs-info);
  --rb-secondary: var(--bs-secondary);

  /* Layout + effects */
  --rb-card-radius: 1rem;
  --rb-card-shadow: 0 8px 24px rgba(16, 24, 40, 0.06);
  --rb-soft-hover:  #0000000d;

  /* Hero accents (light) */
  --rb-hero-a: #0d6efd12;
  --rb-hero-b: #6610f212;

  /* Table head */
  --rb-th-bg: #f8f9fa;
  --rb-th-color: #495057;

  /* Badge text for contrast */
  --rb-badge-text: #fff;
}

/* ---------- LIGHT SKIN (default) ---------- */
html, body {
  background: var(--rb-body-bg);
  color: var(--rb-body-color);
}

/* ---------- BRAND SKIN (match your login gradient) ----------
   Set on <body>: data-skin="brand"
   Adjust brand colors once here and they will flow through Bootstrap.
---------------------------------------------------------------- */
body[data-skin="brand"] {
  /* Brand colors that match your login gradient */
  --brand-1: #2d3a8c; /* deep indigo */
  --brand-2: #4f46e5; /* indigo 600 */
  --brand-3: #3b82f6; /* blue 500 */

  /* Map Bootstrap roles to our brand */
  --bs-primary: var(--brand-2);
  --bs-success: #22c55e;
  --bs-warning: #f59e0b;
  --bs-danger:  #ef4444;
  --bs-info:    #38bdf8;
  --bs-secondary:#4b5563;

  /* Use same for our custom layer */
  --rb-primary: var(--bs-primary);
  --rb-success: var(--bs-success);
  --rb-warning: var(--bs-warning);
  --rb-danger:  var(--bs-danger);
  --rb-info:    var(--bs-info);
  --rb-secondary: var(--bs-secondary);

  /* Page background gradient like login */
  --rb-body-bg: radial-gradient(1200px 800px at 20% 20%, #5b76ff1a 0%, transparent 60%),
                radial-gradient(1200px 800px at 80% 80%, #3b82f61a 0%, transparent 60%),
                linear-gradient(180deg, #1e2a5a 0%, #2a2e6a 50%, #2f50bf 100%);

  /* Text stays readable on cards; body copy slightly lighter */
  --rb-body-color: #e5e7eb; /* slate-200 for body */
  --rb-hero-a: color-mix(in srgb, var(--brand-3) 15%, transparent);
  --rb-hero-b: color-mix(in srgb, var(--brand-2) 15%, transparent);
}

/* Apply body background */
html, body { background: var(--rb-body-bg); }

/* Keep container readable on giant screens */
@media (min-width: 1600px) {
  .container-fluid > .row > main { max-width: 1480px; }
}

/* ---------- NAVBAR / HEADER ---------- */
.navbar {
  border: 0;
  backdrop-filter: blur(6px);
}
body[data-skin="brand"] .navbar {
  background: linear-gradient(180deg, rgba(17,24,39,.55), rgba(17,24,39,.25)) !important;
  border-bottom: 1px solid rgba(255,255,255,.08);
}
body:not([data-skin="brand"]) .navbar {
  background: rgba(255,255,255,.85) !important;
  border-bottom: 1px solid rgba(2,6,23,.06);
}

/* ---------- HERO ---------- */
.hero {
  background: linear-gradient(135deg, var(--rb-hero-a), var(--rb-hero-b));
  border-radius: var(--rb-card-radius);
  padding: 1rem 1.25rem;
}
.hero .small { opacity: .9; }

/* ---------- CARDS ---------- */
.card {
  border: 0;
  border-radius: var(--rb-card-radius);
  box-shadow: var(--rb-card-shadow);
  background-clip: padding-box;
}
.card-header { background: transparent; }
.card-header .h6, .card-header h6, .card-header .h5, .card-header h5 { margin: 0; }

/* Optional “glass” card like the login panel */
.card-glass {
  background: rgba(17, 24, 39, .75) !important; /* near-slate-900 with alpha */
  color: #e5e7eb;
  box-shadow: 0 20px 40px rgba(0,0,0,.35);
  border: 1px solid rgba(255,255,255,.08);
  backdrop-filter: blur(10px);
}
.card-glass .text-secondary { color: #cbd5e1 !important; }

/* KPI */
.kpi .card .icon { font-size: 1.5rem; line-height: 1; }

/* ---------- BUTTONS (ensure Bootstrap uses live brand) ---------- */
.btn-primary{
  --bs-btn-bg: var(--bs-primary);
  --bs-btn-border-color: var(--bs-primary);
  --bs-btn-hover-bg: color-mix(in srgb, var(--bs-primary) 90%, #000 10%);
  --bs-btn-hover-border-color: color-mix(in srgb, var(--bs-primary) 90%, #000 10%);
  --bs-btn-active-bg: color-mix(in srgb, var(--bs-primary) 80%, #000 20%);
  --bs-btn-active-border-color: color-mix(in srgb, var(--bs-primary) 80%, #000 20%);
}
.btn-outline-primary{
  --bs-btn-color: var(--bs-primary);
  --bs-btn-border-color: var(--bs-primary);
  --bs-btn-hover-bg: var(--bs-primary);
  --bs-btn-hover-border-color: var(--bs-primary);
  --bs-btn-active-bg: color-mix(in srgb, var(--bs-primary) 85%, #000 15%);
}
.btn-action { box-shadow: 0 1px 2px rgba(0,0,0,.06); }

/* ---------- TABLES ---------- */
.table-soft tbody tr:hover { background-color: var(--rb-soft-hover); }
.table thead th {
  background: var(--rb-th-bg);
  color: var(--rb-th-color);
  vertical-align: middle;
}
.table td, .table th { padding-top: .6rem; padding-bottom: .6rem; }
.table .badge { color: var(--rb-badge-text); }
.table code, .table .text-wrap, .table .wrap { white-space: normal; word-break: break-word; }
/* Stripe alignment with brand */
.badge.text-bg-primary { background-color: var(--bs-primary) !important; }
.link-primary, a { color: var(--bs-primary); }

/* ---------- FORMS ---------- */
.form-control, .form-select {
  border-radius: .75rem;
  border: 1px solid rgba(2,6,23,.12);
}
body[data-skin="brand"] .form-control, 
body[data-skin="brand"] .form-select {
  background-color: rgba(255,255,255,.04);
  color: #e5e7eb;
  border-color: rgba(255,255,255,.12);
}
body[data-skin="brand"] .form-control::placeholder { color: #94a3b8; }

/* ---------- ALERTS ---------- */
.alert {
  border: 0;
  box-shadow: 0 1px 2px rgba(16,24,40,.06);
  border-radius: .75rem;
}
body[data-skin="brand"] .alert-warning { color:#111827; }

/* ---------- UTILITIES ---------- */
.minw-150 { min-width: 150px; }
.minw-220 { min-width: 220px; }
@media (max-width: 420px) { .minw-150, .minw-220 { min-width: 100%; } }

/* ---------- RESPONSIVE POLISH ---------- */
@media (max-width: 575.98px) {
  .table { font-size: .9375rem; }
  .hero { padding: .85rem 1rem; }
  .kpi .fs-4 { font-size: 1.275rem; }
}
@media (max-width: 480px) {
  .card-header .d-flex.flex-wrap.gap-2 > * { flex: 1 1 100%; }
}

/* ---------- ROW ACCENTS (optional) ---------- */
.tr-accent-primary  { box-shadow: inset 3px 0 0 0 var(--rb-primary); }
.tr-accent-success  { box-shadow: inset 3px 0 0 0 var(--rb-success); }
.tr-accent-warning  { box-shadow: inset 3px 0 0 0 var(--rb-warning); }
.tr-accent-danger   { box-shadow: inset 3px 0 0 0 var(--rb-danger); }
.tr-accent-info     { box-shadow: inset 3px 0 0 0 var(--rb-info); }

/* ---------- ACCESSIBILITY ---------- */
a:focus-visible, button:focus-visible, .form-select:focus-visible, .form-control:focus-visible {
  outline: 2px solid var(--rb-primary);
  outline-offset: 2px;
}

/* ---------- PRINT ---------- */
@media print {
  .btn, .alert, .hero, .card-footer { display: none !important; }
  .card, .table { box-shadow: none !important; }
  .table td, .table th { padding-top: .4rem; padding-bottom: .4rem; }
}

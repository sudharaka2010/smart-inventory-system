/* =================== RB Stores â€” App Shell (header/rail-safe) =================== */
/* Tokens */
:root{
  --rb-header-h: 68px;            /* match your header height */
  --rb-rail-w:  300px;            /* desktop rail width (sidebar) */
  --rb-bg-body: #0b1320;          /* page bg when using dark shell */
  --rb-bg-card: #0f172a;
  --rb-text:    #e5e7eb;
  --rb-text-2:  #9fb3c8;
  --rb-border:  #1f2b3f;
}

/* Base */
html,body{height:100%;}
body.bg-body{background:#0a0f1a; color:var(--rb-text);}

/* Make room for sticky header if your header is sticky */
[data-rb-scope="header"]{
  position:sticky; top:0; z-index:1040;
  min-height:var(--rb-header-h);
}

/* Shell that wraps sidebar + main (you already have <div id="rbShell">) */
#rbShell{position:relative}

/* ----- Sidebar rail handling (no changes to PHP includes needed) ----- */
/* On desktop the sidebar is fixed; we reserve horizontal space for it.   */
/* The sidebar include sets body.has-rail; we leverage that class safely. */
@media (min-width: 1200px){
  body.has-rail #rbShell{ /* reserve space for the fixed rail */
    padding-left: var(--rb-rail-w);
  }
  /* Typical sidebar markup from your include uses [data-rb-scope="sidebar"] */
  [data-rb-scope="sidebar"]{
    position: fixed;
    top: var(--rb-header-h);
    left: 0;
    width: var(--rb-rail-w);
    height: calc(100vh - var(--rb-header-h));
    overflow: auto;
    z-index: 1030;               /* below header, above main */
    -webkit-overflow-scrolling: touch;
  }
}

/* On mobile/tablet, let sidebar be offcanvas/flow; main should span full width */
@media (max-width: 1199.98px){
  #rbShell{padding-left:0;}
  [data-rb-scope="sidebar"]{
    position: static; width:100%; height:auto; overflow:visible;
  }
}

/* ----- Main area ----- */
#rb-main[data-rb-scope="main"]{
  min-height: calc(100vh - var(--rb-header-h));
  padding-top: 0.75rem;
  padding-bottom: 2rem;
  background: transparent;
}

/* Utilities for your controls */
.minw-150{min-width:150px;}
.minw-220{min-width:220px;}
.btn-action{min-width:190px}

/* Card + table soft theme (non-invasive; works with Bootstrap) */
.table-soft tbody tr:nth-child(odd){background: rgba(255,255,255,.02);}
.card{
  background: var(--rb-bg-card);
  border-color: var(--rb-border);
  color: var(--rb-text);
}
.card .text-secondary{color: var(--rb-text-2)!important;}
.table{color: var(--rb-text);}
.table thead.table-light th{
  background: rgba(255,255,255,.06)!important;
  color: var(--rb-text);
  border-bottom-color: var(--rb-border);
}
.table td, .table th{border-color: var(--rb-border);}

/* Keep badges readable on dark */
.badge{border:0}

/* Ensure header never overlaps content shadow-wise */
[data-rb-scope="header"]{box-shadow: 0 2px 0 rgba(0,0,0,.2)}

/* Scrollbar subtlety for the rail (only where supported) */
@supports (scrollbar-color: auto){
  [data-rb-scope="sidebar"]{scrollbar-color: #5b7caa transparent; scrollbar-width: thin;}
}

/* Prevent accidental horizontal scroll on desktop */
@media (min-width:1200px){
  html, body{overflow-x:hidden;}
}
